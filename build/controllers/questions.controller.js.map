{"version":3,"sources":["../../src/controllers/questions.controller.js"],"names":["Question","require","User","jwt","exports","do_vote","req","res","token","headers","authorization","decoded","decode","findByIdAndUpdate","id","$push","votes","question","body","vote","then","user","dislike","like","quest","findById","fuser","voted","map","u","countDocuments","exec","err","count","random","Math","floor","length","skip","console","log","findOne","populate","data","send","errquest","to_vote","$ne","create","categories","option1","option2","author","save","status","message","list","find","path","select","answered","value","updateQuestion","answerChosen","selected","response","err2","add","temp","a","validators"],"mappings":"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","sourcesContent":["const Question = require('./../models/question.model');\r\nconst User = require('../models/user.model');\r\nconst jwt = require('jsonwebtoken');\r\n\r\nexports.do_vote = (req, res) => {\r\n    let token = req.headers.authorization;\r\n    var decoded = jwt.decode(token);\r\n    User.findByIdAndUpdate(decoded.id, {\r\n        $push: {\r\n            votes: {\r\n                question: req.body.question,\r\n                vote: req.body.vote\r\n            }\r\n        }\r\n    })\r\n        .then((user) => {\r\n            Question.findByIdAndUpdate(req.body.question, {\r\n                $push: req.body.vote == 'D' ? { dislike: decoded.id } : { like: decoded.id }\r\n            }).\r\n                then((quest) => {\r\n                    User.findById(decoded.id)\r\n                        .then((fuser) => {\r\n                            let voted = fuser.votes.map((u) => u.question);\r\n                            Question.countDocuments().exec(function (err, count) {\r\n                                var random = Math.floor(Math.random() * (count - voted.length));\r\n                                let skip = random < 0 ? 0 : random;\r\n                                console.log(skip);\r\n                                Question.findOne({ \"_id\": { \"$nin\": voted } })\r\n                                    .populate('author', 'firstname photo')\r\n                                    .skip(skip)\r\n                                    .then((data) => {\r\n                                        res.send({\r\n                                            data: data\r\n                                        })\r\n                                    })\r\n                                    .catch(err => console.log(err))\r\n                            });\r\n                        })\r\n                        .catch(err => console.log(err));\r\n                }).catch(errquest => console.log(errquest));\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexports.to_vote = (req, res) => {\r\n    let token = req.headers.authorization;\r\n    var decoded = jwt.decode(token);\r\n    User.findById(decoded.id)\r\n        .then((user) => {\r\n            let voted = user.votes.map((u) => u.question);\r\n            Question.countDocuments().exec(function (err, count) {\r\n                var random = Math.floor(Math.random() * (count - voted.length));\r\n                let skip = random < 0 ? 0 : random;\r\n                console.log(skip);\r\n                Question.findOne({ \"_id\": { \"$nin\": voted }, 'author': { $ne: decoded.id } })\r\n                    .populate('author', 'firstname photo')\r\n                    .skip(skip)\r\n                    .then((data) => {\r\n                        res.send({\r\n                            data: data\r\n                        })\r\n                    })\r\n                    .catch(err => console.log(err))\r\n            });\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexports.create = (req, res) => {\r\n    const question = new Question({\r\n        question: req.body.question,\r\n        categories: req.body.categories,\r\n        option1: req.body.option1,\r\n        option2: req.body.option2,\r\n        author: req.body.author,\r\n        like: req.body.like,\r\n        dislike: req.body.dislike,\r\n    });\r\n\r\n    question.save().then(data => {\r\n        res.send({\r\n            data: data\r\n        });\r\n    }).catch((err) => {\r\n        res.status(500).send({\r\n            message: err || \"Some error occured\"\r\n        })\r\n    })\r\n}\r\n\r\nexports.list = (req, res) => {\r\n    Question.find()\r\n        .populate({ path: 'categories', select: 'title' })\r\n        .then((data) => {\r\n            res.send({\r\n                data: data\r\n            });\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexports.random = (req, res) => {\r\n    let token = req.headers.authorization;\r\n    var decoded = jwt.decode(token);\r\n    console.log(decoded);\r\n    User.findById(decoded.id)\r\n        .then((user) => {\r\n            console.log(user);\r\n            let answered = user.answered.map((u) => u.value);\r\n            Question.countDocuments().exec(function (err, count) {\r\n                var random = Math.floor(Math.random() * (count - answered.length));\r\n                Question.findOne({ \"_id\": { \"$nin\": answered } })\r\n                    .skip(random)\r\n                    .then((data) => {\r\n                        res.send({\r\n                            data: data\r\n                        })\r\n                    })\r\n                    .catch(err => console.log(err))\r\n            });\r\n        })\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nexports.updateQuestion = (req, res) => {\r\n    let token = req.headers.authorization;\r\n    var decoded = jwt.decode(token);\r\n\r\n    Question.findByIdAndUpdate(req.body.question, {\r\n        $push: req.body.answerChosen == 1 ? { 'option1.users': decoded.id } : { 'option2.users': decoded.id }\r\n    })\r\n        .then((data) => {\r\n            User.findByIdAndUpdate(decoded.id, {\r\n                $push: {\r\n                    answered: {\r\n                        selected: req.body.answerChosen == 1 ? 1 : 2,\r\n                        value: req.body.question,\r\n                    },\r\n                }\r\n            })\r\n                .then(response => {\r\n                    res.send({\r\n                        data: data\r\n                    });\r\n                })\r\n                .catch(err2 => console.log(err2))\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexports.add = (req, res) => {\r\n    let temp = [\r\n        {\r\n            \"question\": \"question1\",\r\n            \"categories\": [\r\n                \"605b6bb1c42a6c24805315d0\"\r\n            ],\r\n            \"option1\": {\r\n                \"answer\": \"1-question1\",\r\n                \"users\": []\r\n            },\r\n            \"option2\": {\r\n                \"answer\": \"2-question1\",\r\n                \"users\": []\r\n            },\r\n            \"author\": \"606db04e8316215f00a9b1e5\"\r\n        },\r\n        {\r\n            \"question\": \"question2\",\r\n            \"categories\": [\r\n                \"605b6bb1c42a6c24805315d0\"\r\n            ],\r\n            \"option1\": {\r\n                \"answer\": \"1-question2\",\r\n                \"users\": []\r\n            },\r\n            \"option2\": {\r\n                \"answer\": \"2-question2\",\r\n                \"users\": []\r\n            },\r\n            \"author\": \"606db04e8316215f00a9b1e5\"\r\n        },\r\n        {\r\n            \"question\": \"question3\",\r\n            \"categories\": [\r\n                \"605b6bb1c42a6c24805315d0\"\r\n            ],\r\n            \"option1\": {\r\n                \"answer\": \"1-question3\",\r\n                \"users\": []\r\n            },\r\n            \"option2\": {\r\n                \"answer\": \"2-question3\",\r\n                \"users\": []\r\n            },\r\n            \"author\": \"606db04e8316215f00a9b1e5\"\r\n        },\r\n        {\r\n            \"question\": \"question4\",\r\n            \"categories\": [\r\n                \"605b6bb1c42a6c24805315d0\"\r\n            ],\r\n            \"option1\": {\r\n                \"answer\": \"1-question4\",\r\n                \"users\": []\r\n            },\r\n            \"option2\": {\r\n                \"answer\": \"2-question4\",\r\n                \"users\": []\r\n            },\r\n            \"author\": \"606db04e8316215f00a9b1e5\"\r\n        },\r\n        {\r\n            \"question\": \"question5\",\r\n            \"categories\": [\r\n                \"605b6bb1c42a6c24805315d0\"\r\n            ],\r\n            \"option1\": {\r\n                \"answer\": \"1-question5\",\r\n                \"users\": []\r\n            },\r\n            \"option2\": {\r\n                \"answer\": \"2-question5\",\r\n                \"users\": []\r\n            },\r\n            \"author\": \"606db04e8316215f00a9b1e5\"\r\n        },\r\n        {\r\n            \"question\": \"question6\",\r\n            \"categories\": [\r\n                \"605b6bb1c42a6c24805315d0\"\r\n            ],\r\n            \"option1\": {\r\n                \"answer\": \"1-question6\",\r\n                \"users\": []\r\n            },\r\n            \"option2\": {\r\n                \"answer\": \"2-question6\",\r\n                \"users\": []\r\n            },\r\n            \"author\": \"606db04e8316215f00a9b1e5\"\r\n        },\r\n        {\r\n            \"question\": \"question7\",\r\n            \"categories\": [\r\n                \"605b6bb1c42a6c24805315d0\"\r\n            ],\r\n            \"option1\": {\r\n                \"answer\": \"1-question7\",\r\n                \"users\": []\r\n            },\r\n            \"option2\": {\r\n                \"answer\": \"2-question7\",\r\n                \"users\": []\r\n            },\r\n            \"author\": \"606db04e8316215f00a9b1e5\"\r\n        },\r\n        {\r\n            \"question\": \"question8\",\r\n            \"categories\": [\r\n                \"605b6bb1c42a6c24805315d0\"\r\n            ],\r\n            \"option1\": {\r\n                \"answer\": \"1-question8\",\r\n                \"users\": []\r\n            },\r\n            \"option2\": {\r\n                \"answer\": \"2-question8\",\r\n                \"users\": []\r\n            },\r\n            \"author\": \"606db04e8316215f00a9b1e5\"\r\n        }\r\n    ];\r\n    temp.map(a => {\r\n        const question = new Question({\r\n            question: a.question,\r\n            categories: a.categories,\r\n            option1: a.option1,\r\n            option2: a.option2,\r\n            author: a.author,\r\n            validators: a.validators,\r\n        });\r\n\r\n        question.save().then(data => {\r\n\r\n        }).catch((err) => {\r\n            res.status(500).send({\r\n                message: err || \"Some error occured\"\r\n            })\r\n        })\r\n        console.log(a);\r\n    })\r\n    res.send({\r\n        data: \"ok\"\r\n    });\r\n}"],"file":"questions.controller.js"}